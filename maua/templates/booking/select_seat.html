{% extends 'base.html' %}
{% block content %}
<div class="container mt-3">
  <h3>Select a seat - Trip #{{ trip.id }} ({{ trip.vehicle.plate_no }})</h3>
  <div class="mb-2">
    <span class="badge bg-success">Green = Checked-in</span>
    <span class="badge bg-primary">Blue = Booked</span>
    <span class="badge bg-danger">Red = Available</span>
  </div>
  <form method="post">
    <div class="d-flex flex-wrap gap-2">
      {% for seat in seat_layout %}
        {% set code = seat['seat'] %}
        {% set state = 'danger' if code not in taken else 'primary' %}
        <label class="badge bg-{{ state }}" style="min-width:48px; cursor: pointer;">
          <input type="radio" name="seat_number" value="{{ code }}" style="display:none" {% if code in taken %}disabled{% endif %}>
          {{ code }}
        </label>
      {% endfor %}
    </div>
    <div class="mt-3">
      <button class="btn btn-primary" type="submit">Confirm Seat</button>
      <a class="btn btn-outline-secondary" href="{{ url_for('catalog.trip_detail', trip_id=trip.id) }}">Back</a>
    </div>
  </form>
</div>
{% endblock %}



{% extends 'admin/_layout.html' %}
{% block admin_content %}
  <h2 class="mb-3">Manage Vehicles</h2>
  <form method="post" class="row g-2 mb-3">
    <div class="col-md-3"><input class="form-control" name="plate_no" placeholder="Plate No" required></div>
    <div class="col-md-3"><input class="form-control" name="make" placeholder="Make"></div>
    <div class="col-md-3"><input class="form-control" name="model" placeholder="Model"></div>
    <div class="col-md-12"><input class="form-control" name="seats" placeholder="Seats (space-separated e.g. 1A 1B 2A 2B)"></div>
    <div class="col-md-2"><button class="btn btn-primary w-100" type="submit">Add</button></div>
  </form>
  <table class="table">
    <thead><tr><th>Plate</th><th>Make/Model</th><th>Seats</th><th></th></tr></thead>
    <tbody>
      {% for v in vehicles %}
      <tr>
        <td>{{ v.plate_no }}</td>
        <td>{{ v.make }} {{ v.model }}</td>
        <td>{{ v.seat_count }}</td>
        <td>
          <a class="btn btn-sm btn-outline-primary" href="{{ url_for('admin.vehicles_edit', vehicle_id=v.id) }}">Edit</a>
          <form method="post" action="{{ url_for('admin.vehicles_delete', vehicle_id=v.id) }}" onsubmit="return confirm('Delete vehicle?')">
            <button class="btn btn-sm btn-danger">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}


